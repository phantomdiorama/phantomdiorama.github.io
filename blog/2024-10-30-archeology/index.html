<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="https://www.michaelbuckleywriter.com/images/favicon.png" />
<title>Archaeology | Michael Buckley</title>
<meta name="title" content="Archaeology" />
<meta name="description" content="
Raiders of the Lost Ark
(1981). Copyright 20th Century Fox.
For a few years I have been using Pocket to save articles for research
and it had been working great. At the end of every week I could export a
list of everything I’ve saved and drop it in Dropbox.
All good.
Then in the last month or so they’ve disabled the export feature, so I
need to find another solution. Preferably something immune to sudden
disruption. Something under my control. Which ultimately means keeping
everything locally." />
<meta name="keywords" content="" />


<meta property="og:url" content="https://www.michaelbuckleywriter.com/blog/2024-10-30-archeology/">
  <meta property="og:site_name" content="Michael Buckley">
  <meta property="og:title" content="Archaeology">
  <meta property="og:description" content="
Raiders of the Lost Ark (1981). Copyright 20th Century Fox. For a few years I have been using Pocket to save articles for research and it had been working great. At the end of every week I could export a list of everything I’ve saved and drop it in Dropbox.
All good.
Then in the last month or so they’ve disabled the export feature, so I need to find another solution. Preferably something immune to sudden disruption. Something under my control. Which ultimately means keeping everything locally.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2024-10-30T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-10-30T00:00:00+00:00">




  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Archaeology">
  <meta name="twitter:description" content="
Raiders of the Lost Ark (1981). Copyright 20th Century Fox. For a few years I have been using Pocket to save articles for research and it had been working great. At the end of every week I could export a list of everything I’ve saved and drop it in Dropbox.
All good.
Then in the last month or so they’ve disabled the export feature, so I need to find another solution. Preferably something immune to sudden disruption. Something under my control. Which ultimately means keeping everything locally.">




  <meta itemprop="name" content="Archaeology">
  <meta itemprop="description" content="
Raiders of the Lost Ark (1981). Copyright 20th Century Fox. For a few years I have been using Pocket to save articles for research and it had been working great. At the end of every week I could export a list of everything I’ve saved and drop it in Dropbox.
All good.
Then in the last month or so they’ve disabled the export feature, so I need to find another solution. Preferably something immune to sudden disruption. Something under my control. Which ultimately means keeping everything locally.">
  <meta itemprop="datePublished" content="2024-10-30T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-10-30T00:00:00+00:00">
  <meta itemprop="wordCount" content="700">
<meta name="referrer" content="no-referrer-when-downgrade" />

  <style>
  body {
    font-family: arial, sans-serif;
    font-size: 16px;
    margin: auto;
    padding: 20px;
    max-width: 720px;
    text-align: left;
    background-color: #fff;
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.5;
    color: #000;
  }

  a {
    color: #c71585;
    text-decoration: none;
  }

  .title {
    text-decoration: none;
    border: 0;
    color: #000;
  }

  .title span {
    font-weight: 400;
  }

  nav a {
    margin-right: 10px;
  }

  textarea {
    width: 100%;
    font-size: 16px;
  }

  input {
    font-size: 16px;
  }

  content {
    line-height: 1.6;
  }

  table {
    width: 100%;
  }

  img {
    max-width: 100%;
    align: center;
    margin-left: auto;
    margin-right: auto;
    display: block;
  }
  figcaption {
    text-align: center;
    font-size: small;
  }

  code {
    padding: 2px 5px;
    background-color: #f2f2f2;
  }

  pre code {
    color: #222;
    display: block;
    padding: 20px;
    white-space: pre-wrap;
    font-size: 14px;
    overflow-x: auto;
  }

  div.highlight pre {
    background-color: initial;
    color: initial;
  }

  div.highlight code {
    background-color: unset;
    color: unset;
  }

  blockquote {
    border-left: 1px solid #999;
    color: #222;
    padding-left: 20px;
    font-style: italic;
  }

  footer {
    padding: 25px;
    text-align: center;
  }

  .helptext {
    color: #777;
    font-size: small;
  }

  .errorlist {
    color: #eba613;
    font-size: small;
  }

   
  ul.blog-posts {
    list-style-type: none;
    padding: unset;
  }

  ul.blog-posts li {
    display: flex;
  }

  ul.blog-posts li span {
    flex: 0 0 130px;
  }

  ul.blog-posts li a:visited {
    color: #c71585;
  }

</style>

</head>

<body>
  <header><a href="/" class="title">
  <h2>Michael Buckley</h2>
</a>
<nav><a href="/">Home</a>

<a href="/about/">About</a>

<a href="/now/">Now</a>


<a href="/blog">Blog</a>

<a href="https://www.michaelbuckleywriter.com/blog/index.xml">RSS</a>
</nav>
</header>
  <main>

<h1>Archaeology</h1>
<p>
  <i>
    <time datetime='2024-10-30' pubdate>
      30 Oct, 2024
    </time>
  </i>
</p>

<content>
  <p><img src="/images/raiders.jpg" alt="Raiders" title="Raiders"></p>
<figcaption>Raiders of the Lost Ark
(1981). Copyright 20th Century Fox.</figcaption>
<p>For a few years I have been using <em>Pocket</em> to save articles for research
and it had been working great. At the end of every week I could export a
list of everything I’ve saved and drop it in Dropbox.</p>
<p>All good.</p>
<p>Then in the last month or so they’ve disabled the export feature, so I
need to find another solution. Preferably something immune to sudden
disruption. Something under my control. Which ultimately means keeping
everything locally.</p>
<p>And thinking about it, Pocket’s export is only a list of URLs, so if a
website goes down, or the link changes, it would result in a dead link. So
I really need something controllable, un-disruptable, local and retains
the full text. Not surprisingly, given the this post exists, there are a
number of tools that can accomplish this.</p>
<blockquote>
<p>NOTE: When choosing what format to keep this research archive in, the
obvious answers are html or plain text. Text is small and easily
parsable, while html gives access to images (as long as the page stays
up), and keeps the look and feel of the original page. I will decide
whether that’s important to me later.</p>
</blockquote>
<h2 id="tools">tools</h2>
<p>First, what I didn’t choose. I didn’t want to dive into the various
self-hosted pocket alternatives like <a href="http://archivebox.io/">ArchiveBox</a> because they do too
much. I don’t need tags or built-in search or even export. I also didn’t
want to pick a browser addon like <a href="https://addons.mozilla.org/en-US/firefox/addon/single-file/">SingleFile</a> as they can’t be automated
easily.</p>
<p>So what’s left? There’s <a href="https://en.wikipedia.org/wiki/Wget">wget</a> and <a href="https://curl.se/">curl</a>. Both tools have been around
forever and are designed for this kind of use case. Another older tool is
<a href="https://pandoc.org/">Pandoc</a>, a document processor which can grab webpages and convert them
into dozens of formats. <a href="https://github.com/Y2Z/monolith">Monolith</a> is relatively new, but it’s main use is
bundling entire pages—including images, media, css, JavaScript—into a
single html file. Lastly, there’s <a href="https://gitlab.com/gardenappl/readability-cli/-/tree/main">readability-cli</a>, an installable
version of Firefox’s reader mode, which strips the cruft from a website
and saves clean html. For testing purposes I’m using <a href="https://github.com/phantomdiorama/shed">Shed</a> a little
ease-of-use bash script I wrote which calls readability. These are all
cross-platform, although Shed is a bit finicky to install on Windows.</p>
<h2 id="testing">testing</h2>
<p>When testing I didn’t try anything too fancy just used each tool to grab
three random pages (from <a href="https://en.wikipedia.org/wiki/Who_Framed_Roger_Rabbit">Wikipedia</a>, <a href="https://arstechnica.com/security/2024/10/scientists-found-human-hairs-in-teeth-of-19th-century-lions">ArsTechnica</a> and the <a href="https://www.bbc.com/travel/article/20241016-kamikochi-japans-car-free-town-that-autumn-hikers-love">BBC</a>),
measured how long they took, and how big the resulting files were.</p>
<h4 id="speed-secs-results">Speed (secs) results</h4>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Tool</th>
          <th style="text-align: left">Wiki</th>
          <th style="text-align: left">BBC</th>
          <th style="text-align: left">Ars</th>
          <th style="text-align: left">Total</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Curl</td>
          <td style="text-align: left">1.09</td>
          <td style="text-align: left">1.16</td>
          <td style="text-align: left">n/a</td>
          <td style="text-align: left">2.25</td>
      </tr>
      <tr>
          <td style="text-align: left">Monolith</td>
          <td style="text-align: left">0.89</td>
          <td style="text-align: left">1.36</td>
          <td style="text-align: left">2.03</td>
          <td style="text-align: left">4.28</td>
      </tr>
      <tr>
          <td style="text-align: left">Monolith Full</td>
          <td style="text-align: left">17.75</td>
          <td style="text-align: left">16.51</td>
          <td style="text-align: left">7.27</td>
          <td style="text-align: left">41.53</td>
      </tr>
      <tr>
          <td style="text-align: left">Pandoc</td>
          <td style="text-align: left">2.97</td>
          <td style="text-align: left">0.75</td>
          <td style="text-align: left">2.86</td>
          <td style="text-align: left">6.58</td>
      </tr>
      <tr>
          <td style="text-align: left">Pandoc Plain</td>
          <td style="text-align: left">2.66</td>
          <td style="text-align: left">0.61</td>
          <td style="text-align: left">4.56</td>
          <td style="text-align: left">7.83</td>
      </tr>
      <tr>
          <td style="text-align: left">Shed</td>
          <td style="text-align: left">24.48</td>
          <td style="text-align: left">10.37</td>
          <td style="text-align: left">15.11</td>
          <td style="text-align: left">49.97</td>
      </tr>
      <tr>
          <td style="text-align: left">Wget</td>
          <td style="text-align: left">1.35</td>
          <td style="text-align: left">3.96</td>
          <td style="text-align: left">3.06</td>
          <td style="text-align: left">8.37</td>
      </tr>
  </tbody>
</table>
<p>Not surprisingly, the tools that do the most post-processing, Shed and
Monolith Full, take the longest. There’s little difference among the
others, with Monolith being slightly quicker. Strangely Curl failed to
grab the full text of the Ars page. Even on repeated tries. I’m inclined
to blame Ars rather than Curl itself.</p>
<p><strong>Update:</strong> curl grabbed the Ars page correctly when I tested it today.</p>
<h4 id="size-kbs-results">Size (KBs) results</h4>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Tool</th>
          <th style="text-align: left">Wiki</th>
          <th style="text-align: left">BBC</th>
          <th style="text-align: left">Ars</th>
          <th style="text-align: left">Total</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Curl</td>
          <td style="text-align: left">778.45</td>
          <td style="text-align: left">324.91</td>
          <td style="text-align: left">n/a</td>
          <td style="text-align: left">1,103.36</td>
      </tr>
      <tr>
          <td style="text-align: left">Monolith</td>
          <td style="text-align: left">814.00</td>
          <td style="text-align: left">152.73</td>
          <td style="text-align: left">56.81</td>
          <td style="text-align: left">1,023.54</td>
      </tr>
      <tr>
          <td style="text-align: left">Monolith Full</td>
          <td style="text-align: left">2682.52</td>
          <td style="text-align: left">31993.95</td>
          <td style="text-align: left">7761.37</td>
          <td style="text-align: left">42,437.84</td>
      </tr>
      <tr>
          <td style="text-align: left">Pandoc</td>
          <td style="text-align: left">708.47</td>
          <td style="text-align: left">95.48</td>
          <td style="text-align: left">28.48</td>
          <td style="text-align: left">832.43</td>
      </tr>
      <tr>
          <td style="text-align: left">Pandoc Plain</td>
          <td style="text-align: left">252.31</td>
          <td style="text-align: left">18.00</td>
          <td style="text-align: left">5.36</td>
          <td style="text-align: left">275.67</td>
      </tr>
      <tr>
          <td style="text-align: left">Shed</td>
          <td style="text-align: left">231.44</td>
          <td style="text-align: left">18.80</td>
          <td style="text-align: left">2.88</td>
          <td style="text-align: left">253.12</td>
      </tr>
      <tr>
          <td style="text-align: left">Wget</td>
          <td style="text-align: left">778.45</td>
          <td style="text-align: left">324.91</td>
          <td style="text-align: left">113.00</td>
          <td style="text-align: left">1,216.36</td>
      </tr>
  </tbody>
</table>
<p>The slowest tools, Monolith Full and Shed, resulted in the largest and
smallest file sizes, respectively. Next smallest Pandoc Plain, was 7x
quicker than Shed. The rest of the tools were much of a muchness except
Monolith Full which outputted relatively enormous files, you do get a
perfect copy of the webpage with that.</p>
<p>See the commands I tested with <a href="https://gist.github.com/phantomdiorama/9073e57fecdea78961334c95fa3675b1">here</a>.</p>
<h2 id="conclusion">conclusion</h2>
<p>Basically, for html, wget. It performs well, has been around forever, and
it’s pre-installed on good OSs. But given the results and my use case, it’s
Pandoc Plain. It’s fast enough and the files are tiny. You lose the “look”
of the page but for the kind of research I do, it isn’t a big deal. Any
images can be saved separately.</p>
<p>Now to figure out how to run my Pocket export through Pandoc&hellip;</p>
<h3 id="current-status">current status</h3>
<p>Cat: Shedding</p>
<p>Writing: Much</p>
<p>Hands: A-tingle</p>

</content>
<p>
  
</p>

  </main>
  <footer>
<a href="https://ko-fi.com/phantomdiorama">Buy Me A Cup Of Coffee</a>

</footer>

    
</body>

</html>
